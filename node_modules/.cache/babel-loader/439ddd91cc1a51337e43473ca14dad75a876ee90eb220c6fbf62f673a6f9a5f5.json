{"ast":null,"code":"var _jsxFileName = \"/Users/kevinklatman/Development/Code/characterwalkingreactversion/src/Character.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './NewpalletTownpath.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Character = () => {\n  _s();\n  const [posX, setPosX] = useState(144);\n  const [posY, setPosY] = useState(144);\n  const [direction, setDirection] = useState('down');\n  const [isMoving, setIsMoving] = useState(false);\n  const speed = 9;\n  useEffect(() => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.src = mapImage;\n    img.onload = () => {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n    };\n    const isColliding = (x, y) => {\n      const pixel = ctx.getImageData(x, y, 1, 1).data;\n      const isWalkable = pixel[0] === 255 && pixel[1] === 255 && pixel[2] === 255;\n      return !isWalkable;\n    };\n    const handleKeyDown = event => {\n      let newX = posX;\n      let newY = posY;\n      switch (event.key) {\n        case 'ArrowUp':\n          newY = Math.max(posY - speed, 0);\n          setDirection('up');\n          break;\n        case 'ArrowDown':\n          newY = Math.min(posY + speed, 288);\n          setDirection('down');\n          break;\n        case 'ArrowLeft':\n          newX = Math.max(posX - speed, 0);\n          setDirection('left');\n          break;\n        case 'ArrowRight':\n          newX = Math.min(posX + speed, 288);\n          setDirection('right');\n          break;\n        default:\n          break;\n      }\n      if (!isColliding(newX, newY)) {\n        setPosX(newX);\n        setPosY(newY);\n        setIsMoving(true);\n      }\n    };\n    const handleKeyUp = () => {\n      setIsMoving(false);\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [posX, posY]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `character ${direction} ${isMoving ? 'moving' : ''}`,\n    style: {\n      top: posY + 'px',\n      left: posX + 'px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(Character, \"9GZ0cS8qLkyFgffQXvqKhyclh9I=\");\n_c = Character;\nexport default Character;\nvar _c;\n$RefreshReg$(_c, \"Character\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Character","_s","posX","setPosX","posY","setPosY","direction","setDirection","isMoving","setIsMoving","speed","canvas","document","createElement","ctx","getContext","img","Image","src","mapImage","onload","width","height","drawImage","isColliding","x","y","pixel","getImageData","data","isWalkable","handleKeyDown","event","newX","newY","key","Math","max","min","handleKeyUp","addEventListener","removeEventListener","className","style","top","left","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kevinklatman/Development/Code/characterwalkingreactversion/src/Character.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './NewpalletTownpath.png';\n\nconst Character = () => {\n  const [posX, setPosX] = useState(144);\n  const [posY, setPosY] = useState(144);\n  const [direction, setDirection] = useState('down');\n  const [isMoving, setIsMoving] = useState(false);\n  const speed = 9;\n\n  useEffect(() => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.src = mapImage;\n\n    img.onload = () => {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n    };\n\n    const isColliding = (x, y) => {\n      const pixel = ctx.getImageData(x, y, 1, 1).data;\n      const isWalkable = pixel[0] === 255 && pixel[1] === 255 && pixel[2] === 255;\n      return !isWalkable;\n    };\n\n    const handleKeyDown = (event) => {\n      let newX = posX;\n      let newY = posY;\n\n      switch (event.key) {\n        case 'ArrowUp':\n          newY = Math.max(posY - speed, 0);\n          setDirection('up');\n          break;\n        case 'ArrowDown':\n          newY = Math.min(posY + speed, 288);\n          setDirection('down');\n          break;\n        case 'ArrowLeft':\n          newX = Math.max(posX - speed, 0);\n          setDirection('left');\n          break;\n        case 'ArrowRight':\n          newX = Math.min(posX + speed, 288);\n          setDirection('right');\n          break;\n        default:\n          break;\n      }\n\n      if (!isColliding(newX, newY)) {\n        setPosX(newX);\n        setPosY(newY);\n        setIsMoving(true);\n      }\n    };\n\n    const handleKeyUp = () => {\n      setIsMoving(false);\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [posX, posY]);\n\n  return (\n    <div\n      className={`character ${direction} ${isMoving ? 'moving' : ''}`}\n      style={{\n        top: posY + 'px',\n        left: posX + 'px',\n      }}\n    ></div>\n  );\n};\n\nexport default Character;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}